//@execute 0=42; 1=11; 2=12; 3=99; 5=42

component ptex_meth09 {

    method main(arg: int) -> int {
        local f: (int) -> int = id;
        local h: (char) -> char = id;

    	if ( arg == 1 ) return apply(11, f);
    	if ( arg == 2 ) return apply(12, f);
    	if ( arg == 3 ) return ::int apply(id('c'), id(h));
        return 42;
    }

    method apply<T>(x: T, f: (T) -> T) -> T { 
	return f(x);
    }

    method id<T>(x: T) -> T { return x; }
    method id3<T>(x: T) -> T { return id(id(id(x))); }
}
